{"ast":null,"code":"var _jsxFileName = \"/Users/andynam/Code/react/keeper-app/src/components/Home.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory, Redirect } from \"react-router-dom\";\nimport { FormControl, InputLabel, Container, TextField } from \"@material-ui/core\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport axios from \"axios\";\n\nfunction Home() {\n  const history = useHistory();\n  const [correctLogin, setCorrectLogin] = useState(true);\n  const [redirect, setRedirect] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [userInput, setUserInput] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const [currentUserId, setCurrentUserId] = useState(); // Get's list of users from db\n\n  useEffect(() => {\n    setTimeout(() => {\n      axios.get(\"http://localhost:5000/user\").then(response => {\n        setUsers([...response.data]);\n      }, 1000);\n    });\n  }, []); // Redirects to create page\n\n  function handleClick() {\n    history.push(\"./create\");\n  } // Updates react hook with user inputted values\n\n\n  function handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    setUserInput(prevInfo => {\n      return { ...prevInfo,\n        [name]: value\n      };\n    });\n  } // Checking to see if current user's log info exists in db\n\n\n  function logIn(e) {\n    e.preventDefault();\n    const currentUser = users.find(users => users.username === userInput.username); // User does not exist\n\n    if (!currentUser) {\n      setCorrectLogin(false);\n      return;\n    } else if (currentUser.password === userInput.password) {\n      setCurrentUserId(currentUser._id);\n      setRedirect(true);\n    } else {\n      // User information doesn't match what's in DB\n      setCorrectLogin(false);\n      return;\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    fullWidth: true,\n    label: \"Username\",\n    margin: \"normal\",\n    name: \"username\",\n    onChange: handleChange,\n    required: true,\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"loginArea\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"username\",\n    placeholder: \"Enter your Username\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"password\",\n    placeholder: \"Enter your Password\",\n    onChange: handleChange,\n    type: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"userLogin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, \"Create Account\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: logIn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, \"Log In\", redirect ? /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/note/\" + currentUserId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }) : null))), correctLogin ? null : /*#__PURE__*/React.createElement(\"p\", {\n    className: \"loginInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, \"The account may have not been created or your login information is not correct. Please try again!\"), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/andynam/Code/react/keeper-app/src/components/Home.jsx"],"names":["React","useState","useEffect","useHistory","Redirect","FormControl","InputLabel","Container","TextField","Header","Footer","axios","Home","history","correctLogin","setCorrectLogin","redirect","setRedirect","users","setUsers","userInput","setUserInput","username","password","currentUserId","setCurrentUserId","setTimeout","get","then","response","data","handleClick","push","handleChange","e","name","value","target","prevInfo","logIn","preventDefault","currentUser","find","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useHistory, Redirect } from \"react-router-dom\";\nimport {\n  FormControl,\n  InputLabel,\n  Container,\n  TextField,\n} from \"@material-ui/core\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport axios from \"axios\";\n\nfunction Home() {\n  const history = useHistory();\n\n  const [correctLogin, setCorrectLogin] = useState(true);\n  const [redirect, setRedirect] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [userInput, setUserInput] = useState({\n    username: \"\",\n    password: \"\",\n  });\n  const [currentUserId, setCurrentUserId] = useState();\n\n  // Get's list of users from db\n  useEffect(() => {\n    setTimeout(() => {\n      axios.get(\"http://localhost:5000/user\").then((response) => {\n        setUsers([...response.data]);\n      }, 1000);\n    });\n  }, []);\n\n  // Redirects to create page\n  function handleClick() {\n    history.push(\"./create\");\n  }\n\n  // Updates react hook with user inputted values\n  function handleChange(e) {\n    const { name, value } = e.target;\n\n    setUserInput((prevInfo) => {\n      return {\n        ...prevInfo,\n        [name]: value,\n      };\n    });\n  }\n\n  // Checking to see if current user's log info exists in db\n  function logIn(e) {\n    e.preventDefault();\n    const currentUser = users.find(\n      (users) => users.username === userInput.username\n    );\n\n    // User does not exist\n    if (!currentUser) {\n      setCorrectLogin(false);\n      return;\n    } else if (currentUser.password === userInput.password) {\n      setCurrentUserId(currentUser._id);\n      setRedirect(true);\n    } else {\n      // User information doesn't match what's in DB\n      setCorrectLogin(false);\n      return;\n    }\n  }\n\n  return (\n    <div>\n      <Header />\n      {/* Material UI */}\n      <Container component=\"main\">\n        <form>\n          <TextField\n            autoFocus\n            fullWidth\n            label=\"Username\"\n            margin=\"normal\"\n            name=\"username\"\n            onChange={handleChange}\n            required\n            variant=\"outlined\"\n          />\n        </form>\n      </Container>\n      <form className=\"loginArea\">\n        <input\n          name=\"username\"\n          placeholder=\"Enter your Username\"\n          onChange={handleChange}\n        />\n        <input\n          name=\"password\"\n          placeholder=\"Enter your Password\"\n          onChange={handleChange}\n          type=\"password\"\n        />\n        <div className=\"userLogin\">\n          <button onClick={handleClick}>Create Account</button>\n          <button onClick={logIn}>\n            Log In\n            {redirect ? <Redirect to={\"/note/\" + currentUserId} /> : null}\n          </button>\n        </div>\n      </form>\n\n      {correctLogin ? null : (\n        <p className=\"loginInfo\">\n          The account may have not been created or your login information is not\n          correct. Please try again!\n        </p>\n      )}\n      <Footer />\n    </div>\n  );\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}