{"ast":null,"code":"var _jsxFileName = \"/Users/andynam/Code/react/keeper-app/client/src/components/Home.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { Container, TextField, Button, Grid, CssBaseline, Avatar } from \"@material-ui/core\";\nimport HighlightIcon from \"@material-ui/icons/Highlight\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport axios from \"axios\";\n\nfunction Home() {\n  const [correctLogin, setCorrectLogin] = useState(true);\n  const [redirect, setRedirect] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [userInput, setUserInput] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const [currentUserId, setCurrentUserId] = useState(); // Get's list of users from db\n\n  useEffect(() => {\n    setTimeout(() => {\n      axios.get(\"/api/user\").then(response => {\n        console.log(response.text());\n      }, 1000);\n    });\n  }, []); // Updates react hook with user inputted values\n\n  function handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    setUserInput(prevInfo => {\n      return { ...prevInfo,\n        [name]: value\n      };\n    });\n  } // Checking to see if current user's log info exists in db\n\n\n  function logIn(e) {\n    e.preventDefault();\n    const currentUser = users.find(users => users.username === userInput.username); // User does not exist\n\n    if (!currentUser) {\n      setCorrectLogin(false);\n      return;\n    } else if (currentUser.password === userInput.password) {\n      setCurrentUserId(currentUser._id);\n      setRedirect(true);\n    } else {\n      // User information doesn't match what's in DB\n      setCorrectLogin(false);\n      return;\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"signInArea\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(HighlightIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, \"Sign In\"), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    fullWidth: true,\n    label: \"Username\",\n    margin: \"normal\",\n    name: \"username\",\n    onChange: handleChange,\n    required: true,\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    label: \"Password\",\n    margin: \"normal\",\n    name: \"password\",\n    onChange: handleChange,\n    required: true,\n    type: \"password\",\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    variant: \"contained\",\n    onClick: logIn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, \"Sign In\", redirect ? /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/note/\" + currentUserId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 25\n    }\n  }) : null), correctLogin ? null : /*#__PURE__*/React.createElement(\"p\", {\n    className: \"loginInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, \"The account may have not been created or your login information is not correct. Please try again!\"), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/create\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }, \"Don't have an account? Sign up!\"))))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/andynam/Code/react/keeper-app/client/src/components/Home.jsx"],"names":["React","useState","useEffect","Redirect","Container","TextField","Button","Grid","CssBaseline","Avatar","HighlightIcon","Header","Footer","axios","Home","correctLogin","setCorrectLogin","redirect","setRedirect","users","setUsers","userInput","setUserInput","username","password","currentUserId","setCurrentUserId","setTimeout","get","then","response","console","log","text","handleChange","e","name","value","target","prevInfo","logIn","preventDefault","currentUser","find","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport {\n  Container,\n  TextField,\n  Button,\n  Grid,\n  CssBaseline,\n  Avatar,\n} from \"@material-ui/core\";\nimport HighlightIcon from \"@material-ui/icons/Highlight\";\n\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport axios from \"axios\";\n\nfunction Home() {\n  const [correctLogin, setCorrectLogin] = useState(true);\n  const [redirect, setRedirect] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [userInput, setUserInput] = useState({\n    username: \"\",\n    password: \"\",\n  });\n  const [currentUserId, setCurrentUserId] = useState();\n\n  // Get's list of users from db\n  useEffect(() => {\n    setTimeout(() => {\n      axios.get(\"/api/user\").then((response) => {\n        console.log(response.text());\n      }, 1000);\n    });\n  }, []);\n\n  // Updates react hook with user inputted values\n  function handleChange(e) {\n    const { name, value } = e.target;\n\n    setUserInput((prevInfo) => {\n      return {\n        ...prevInfo,\n        [name]: value,\n      };\n    });\n  }\n\n  // Checking to see if current user's log info exists in db\n  function logIn(e) {\n    e.preventDefault();\n    const currentUser = users.find(\n      (users) => users.username === userInput.username\n    );\n\n    // User does not exist\n    if (!currentUser) {\n      setCorrectLogin(false);\n      return;\n    } else if (currentUser.password === userInput.password) {\n      setCurrentUserId(currentUser._id);\n      setRedirect(true);\n    } else {\n      // User information doesn't match what's in DB\n      setCorrectLogin(false);\n      return;\n    }\n  }\n\n  return (\n    <div>\n      <Header />\n      {/* Material UI */}\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <form className=\"signInArea\">\n          <Avatar>\n            <HighlightIcon />\n          </Avatar>\n          <h1>Sign In</h1>\n          <TextField\n            autoFocus\n            fullWidth\n            label=\"Username\"\n            margin=\"normal\"\n            name=\"username\"\n            onChange={handleChange}\n            required\n            variant=\"outlined\"\n          />\n          <TextField\n            fullWidth\n            label=\"Password\"\n            margin=\"normal\"\n            name=\"password\"\n            onChange={handleChange}\n            required\n            type=\"password\"\n            variant=\"outlined\"\n          />\n          <Button fullWidth variant=\"contained\" onClick={logIn}>\n            Sign In\n            {redirect ? <Redirect to={\"/note/\" + currentUserId} /> : null}\n          </Button>\n          {correctLogin ? null : (\n            <p className=\"loginInfo\">\n              The account may have not been created or your login information is\n              not correct. Please try again!\n            </p>\n          )}\n          <Grid container>\n            <Grid item>\n              <a href=\"/create\">{\"Don't have an account? Sign up!\"}</a>\n            </Grid>\n          </Grid>\n        </form>\n      </Container>\n      <Footer />\n    </div>\n  );\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}