{"ast":null,"code":"var _jsxFileName = \"/Users/andynam/Code/react/keeper-app/src/components/Home.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory, Link, Redirect } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport axios from \"axios\"; //TODO\n// Compare loginUser with data base username and password\n// if(exits) ==> redirect to NoteDashboard\n// else ==> print(Please sign up )\n\nfunction Home(props) {\n  const history = useHistory();\n  const currentUser = null;\n  const [redirect, setRedirect] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [userInput, setUserInput] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const [currentUserId, setCurrentUserId] = useState(); // Get's list of users from db\n\n  useEffect(() => {\n    setTimeout(() => {\n      axios.get(\"http://localhost:5000/user\").then(response => {\n        setUsers([...response.data]);\n      }, 1000);\n    });\n  }, []);\n\n  function handleClick() {\n    history.push(\"./create\");\n  }\n\n  function handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    setUserInput(prevInfo => {\n      return { ...prevInfo,\n        [name]: value\n      };\n    });\n  } // Checking to see if current user's log info exists in db\n\n\n  function logIn(e) {\n    e.preventDefault();\n    var currentUser = users.find(users => users.username === userInput.username);\n\n    if (!currentUser) {\n      console.log(\"The Username was not found. Please try again\");\n    } else {\n      if (currentUser.password === userInput.password) {\n        setRedirect(true); // history.push(\"/note\", { userId: currentUser._id });\n        // return <Redirect to={\"/note/\" + currentUser._id} />;\n      } else {\n        console.log(\"The password is incorrect\");\n      }\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, \"Welcome to Andy's Keeper App\"), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, \"Log In...\"), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"username\",\n    placeholder: \"Enter your Username\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"password\",\n    placeholder: \"Enter your Password\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, \"Create Account\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: logIn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, \"Log In\", redirect ? /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/note/\" + currentUser.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 23\n    }\n  }) : null)), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/andynam/Code/react/keeper-app/src/components/Home.jsx"],"names":["React","useState","useEffect","useHistory","Link","Redirect","Header","Footer","axios","Home","props","history","currentUser","redirect","setRedirect","users","setUsers","userInput","setUserInput","username","password","currentUserId","setCurrentUserId","setTimeout","get","then","response","data","handleClick","push","handleChange","e","name","value","target","prevInfo","logIn","preventDefault","find","console","log","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useHistory, Link, Redirect } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport axios from \"axios\";\n\n//TODO\n// Compare loginUser with data base username and password\n// if(exits) ==> redirect to NoteDashboard\n// else ==> print(Please sign up )\n\nfunction Home(props) {\n  const history = useHistory();\n\n  const currentUser = null;\n  const [redirect, setRedirect] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [userInput, setUserInput] = useState({\n    username: \"\",\n    password: \"\",\n  });\n  const [currentUserId, setCurrentUserId] = useState();\n\n  // Get's list of users from db\n  useEffect(() => {\n    setTimeout(() => {\n      axios.get(\"http://localhost:5000/user\").then((response) => {\n        setUsers([...response.data]);\n      }, 1000);\n    });\n  }, []);\n\n  function handleClick() {\n    history.push(\"./create\");\n  }\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n\n    setUserInput((prevInfo) => {\n      return {\n        ...prevInfo,\n        [name]: value,\n      };\n    });\n  }\n\n  // Checking to see if current user's log info exists in db\n  function logIn(e) {\n    e.preventDefault();\n    var currentUser = users.find(\n      (users) => users.username === userInput.username\n    );\n    if (!currentUser) {\n      console.log(\"The Username was not found. Please try again\");\n    } else {\n      if (currentUser.password === userInput.password) {\n        setRedirect(true);\n        // history.push(\"/note\", { userId: currentUser._id });\n        // return <Redirect to={\"/note/\" + currentUser._id} />;\n      } else {\n        console.log(\"The password is incorrect\");\n      }\n    }\n  }\n\n  return (\n    <div>\n      <Header />\n      <h1>Welcome to Andy's Keeper App</h1>\n      <h2>Log In...</h2>\n      <form>\n        <input\n          name=\"username\"\n          placeholder=\"Enter your Username\"\n          onChange={handleChange}\n        />\n        <input\n          name=\"password\"\n          placeholder=\"Enter your Password\"\n          onChange={handleChange}\n        />\n        <button onClick={handleClick}>Create Account</button>\n        <button onClick={logIn}>\n          Log In\n          {redirect ? <Redirect to={\"/note/\" + currentUser.id} /> : null}\n        </button>\n      </form>\n      <Footer />\n    </div>\n  );\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}