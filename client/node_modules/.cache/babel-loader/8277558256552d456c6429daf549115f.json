{"ast":null,"code":"var _jsxFileName = \"/Users/andynam/Code/react/keeper-app/src/components/Home.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory, Redirect, Link } from \"react-router-dom\";\nimport { FormControl, InputLabel, Container, TextField, Button, Grid, CssBaseline, Avatar } from \"@material-ui/core\";\nimport HighlightIcon from \"@material-ui/icons/Highlight\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport axios from \"axios\";\n\nfunction Home() {\n  const history = useHistory();\n  const [correctLogin, setCorrectLogin] = useState(true);\n  const [redirect, setRedirect] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [userInput, setUserInput] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const [currentUserId, setCurrentUserId] = useState(); // Get's list of users from db\n\n  useEffect(() => {\n    setTimeout(() => {\n      axios.get(\"http://localhost:5000/user\").then(response => {\n        setUsers([...response.data]);\n      }, 1000);\n    });\n  }, []); // Redirects to create page\n\n  function handleClick() {\n    history.push(\"./create\");\n  } // Updates react hook with user inputted values\n\n\n  function handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    setUserInput(prevInfo => {\n      return { ...prevInfo,\n        [name]: value\n      };\n    });\n  } // Checking to see if current user's log info exists in db\n\n\n  function logIn(e) {\n    e.preventDefault();\n    const currentUser = users.find(users => users.username === userInput.username); // User does not exist\n\n    if (!currentUser) {\n      setCorrectLogin(false);\n      return;\n    } else if (currentUser.password === userInput.password) {\n      setCurrentUserId(currentUser._id);\n      setRedirect(true);\n    } else {\n      // User information doesn't match what's in DB\n      setCorrectLogin(false);\n      return;\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Avatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(HighlightIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    fullWidth: true,\n    label: \"Username\",\n    margin: \"normal\",\n    name: \"username\",\n    onChange: handleChange,\n    required: true,\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    label: \"Password\",\n    margin: \"normal\",\n    name: \"password\",\n    onChange: handleChange,\n    required: true,\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    variant: \"contained\",\n    onClick: logIn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, \"Sign In\", redirect ? /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/note/\" + currentUserId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 25\n    }\n  }) : null), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/create\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }, \"Don't have an account? Sign up!\"))))), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"loginArea\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"username\",\n    placeholder: \"Enter your Username\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"password\",\n    placeholder: \"Enter your Password\",\n    onChange: handleChange,\n    type: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"userLogin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, \"Create Account\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: logIn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, \"Log In\"))), correctLogin ? null : /*#__PURE__*/React.createElement(\"p\", {\n    className: \"loginInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, \"The account may have not been created or your login information is not correct. Please try again!\"), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/andynam/Code/react/keeper-app/src/components/Home.jsx"],"names":["React","useState","useEffect","useHistory","Redirect","Link","FormControl","InputLabel","Container","TextField","Button","Grid","CssBaseline","Avatar","HighlightIcon","Header","Footer","axios","Home","history","correctLogin","setCorrectLogin","redirect","setRedirect","users","setUsers","userInput","setUserInput","username","password","currentUserId","setCurrentUserId","setTimeout","get","then","response","data","handleClick","push","handleChange","e","name","value","target","prevInfo","logIn","preventDefault","currentUser","find","_id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,UAAT,EAAqBC,QAArB,EAA+BC,IAA/B,QAA2C,kBAA3C;AACA,SACEC,WADF,EAEEC,UAFF,EAGEC,SAHF,EAIEC,SAJF,EAKEC,MALF,EAMEC,IANF,EAOEC,WAPF,EAQEC,MARF,QASO,mBATP;AAUA,OAAOC,aAAP,MAA0B,8BAA1B;AAEA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,SAASC,IAAT,GAAgB;AACd,QAAMC,OAAO,GAAGhB,UAAU,EAA1B;AAEA,QAAM,CAACiB,YAAD,EAAeC,eAAf,IAAkCpB,QAAQ,CAAC,IAAD,CAAhD;AACA,QAAM,CAACqB,QAAD,EAAWC,WAAX,IAA0BtB,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACuB,KAAD,EAAQC,QAAR,IAAoBxB,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACyB,SAAD,EAAYC,YAAZ,IAA4B1B,QAAQ,CAAC;AACzC2B,IAAAA,QAAQ,EAAE,EAD+B;AAEzCC,IAAAA,QAAQ,EAAE;AAF+B,GAAD,CAA1C;AAIA,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoC9B,QAAQ,EAAlD,CAVc,CAYd;;AACAC,EAAAA,SAAS,CAAC,MAAM;AACd8B,IAAAA,UAAU,CAAC,MAAM;AACff,MAAAA,KAAK,CAACgB,GAAN,CAAU,4BAAV,EAAwCC,IAAxC,CAA8CC,QAAD,IAAc;AACzDV,QAAAA,QAAQ,CAAC,CAAC,GAAGU,QAAQ,CAACC,IAAb,CAAD,CAAR;AACD,OAFD,EAEG,IAFH;AAGD,KAJS,CAAV;AAKD,GANQ,EAMN,EANM,CAAT,CAbc,CAqBd;;AACA,WAASC,WAAT,GAAuB;AACrBlB,IAAAA,OAAO,CAACmB,IAAR,CAAa,UAAb;AACD,GAxBa,CA0Bd;;;AACA,WAASC,YAAT,CAAsBC,CAAtB,EAAyB;AACvB,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAkBF,CAAC,CAACG,MAA1B;AAEAhB,IAAAA,YAAY,CAAEiB,QAAD,IAAc;AACzB,aAAO,EACL,GAAGA,QADE;AAEL,SAACH,IAAD,GAAQC;AAFH,OAAP;AAID,KALW,CAAZ;AAMD,GApCa,CAsCd;;;AACA,WAASG,KAAT,CAAeL,CAAf,EAAkB;AAChBA,IAAAA,CAAC,CAACM,cAAF;AACA,UAAMC,WAAW,GAAGvB,KAAK,CAACwB,IAAN,CACjBxB,KAAD,IAAWA,KAAK,CAACI,QAAN,KAAmBF,SAAS,CAACE,QADtB,CAApB,CAFgB,CAMhB;;AACA,QAAI,CAACmB,WAAL,EAAkB;AAChB1B,MAAAA,eAAe,CAAC,KAAD,CAAf;AACA;AACD,KAHD,MAGO,IAAI0B,WAAW,CAAClB,QAAZ,KAAyBH,SAAS,CAACG,QAAvC,EAAiD;AACtDE,MAAAA,gBAAgB,CAACgB,WAAW,CAACE,GAAb,CAAhB;AACA1B,MAAAA,WAAW,CAAC,IAAD,CAAX;AACD,KAHM,MAGA;AACL;AACAF,MAAAA,eAAe,CAAC,KAAD,CAAf;AACA;AACD;AACF;;AAED,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAGE,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,MAArB;AAA4B,IAAA,QAAQ,EAAC,IAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AACE,IAAA,SAAS,MADX;AAEE,IAAA,SAAS,MAFX;AAGE,IAAA,KAAK,EAAC,UAHR;AAIE,IAAA,MAAM,EAAC,QAJT;AAKE,IAAA,IAAI,EAAC,UALP;AAME,IAAA,QAAQ,EAAEkB,YANZ;AAOE,IAAA,QAAQ,MAPV;AAQE,IAAA,OAAO,EAAC,UARV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAWE,oBAAC,SAAD;AACE,IAAA,SAAS,MADX;AAEE,IAAA,KAAK,EAAC,UAFR;AAGE,IAAA,MAAM,EAAC,QAHT;AAIE,IAAA,IAAI,EAAC,UAJP;AAKE,IAAA,QAAQ,EAAEA,YALZ;AAME,IAAA,QAAQ,MANV;AAOE,IAAA,OAAO,EAAC,UAPV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,eAoBE,oBAAC,MAAD;AAAQ,IAAA,SAAS,MAAjB;AAAkB,IAAA,OAAO,EAAC,WAA1B;AAAsC,IAAA,OAAO,EAAEM,KAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAEGvB,QAAQ,gBAAG,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAE,WAAWQ,aAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,GAAgD,IAF3D,CApBF,eAwBE,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,IAAI,EAAC,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAmB,iCAAnB,CADF,CADF,CAxBF,CALF,CAHF,eAuCE;AAAM,IAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,WAAW,EAAC,qBAFd;AAGE,IAAA,QAAQ,EAAES,YAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAME;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,WAAW,EAAC,qBAFd;AAGE,IAAA,QAAQ,EAAEA,YAHZ;AAIE,IAAA,IAAI,EAAC,UAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,eAYE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,OAAO,EAAEF,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAQ,IAAA,OAAO,EAAEQ,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,CAZF,CAvCF,EAyDGzB,YAAY,GAAG,IAAH,gBACX;AAAG,IAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yGA1DJ,eA+DE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA/DF,CADF;AAmED;;AAED,eAAeF,IAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useHistory, Redirect, Link } from \"react-router-dom\";\nimport {\n  FormControl,\n  InputLabel,\n  Container,\n  TextField,\n  Button,\n  Grid,\n  CssBaseline,\n  Avatar,\n} from \"@material-ui/core\";\nimport HighlightIcon from \"@material-ui/icons/Highlight\";\n\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport axios from \"axios\";\n\nfunction Home() {\n  const history = useHistory();\n\n  const [correctLogin, setCorrectLogin] = useState(true);\n  const [redirect, setRedirect] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [userInput, setUserInput] = useState({\n    username: \"\",\n    password: \"\",\n  });\n  const [currentUserId, setCurrentUserId] = useState();\n\n  // Get's list of users from db\n  useEffect(() => {\n    setTimeout(() => {\n      axios.get(\"http://localhost:5000/user\").then((response) => {\n        setUsers([...response.data]);\n      }, 1000);\n    });\n  }, []);\n\n  // Redirects to create page\n  function handleClick() {\n    history.push(\"./create\");\n  }\n\n  // Updates react hook with user inputted values\n  function handleChange(e) {\n    const { name, value } = e.target;\n\n    setUserInput((prevInfo) => {\n      return {\n        ...prevInfo,\n        [name]: value,\n      };\n    });\n  }\n\n  // Checking to see if current user's log info exists in db\n  function logIn(e) {\n    e.preventDefault();\n    const currentUser = users.find(\n      (users) => users.username === userInput.username\n    );\n\n    // User does not exist\n    if (!currentUser) {\n      setCorrectLogin(false);\n      return;\n    } else if (currentUser.password === userInput.password) {\n      setCurrentUserId(currentUser._id);\n      setRedirect(true);\n    } else {\n      // User information doesn't match what's in DB\n      setCorrectLogin(false);\n      return;\n    }\n  }\n\n  return (\n    <div>\n      <Header />\n      {/* Material UI */}\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <Avatar>\n          <HighlightIcon />\n        </Avatar>\n        <form>\n          <TextField\n            autoFocus\n            fullWidth\n            label=\"Username\"\n            margin=\"normal\"\n            name=\"username\"\n            onChange={handleChange}\n            required\n            variant=\"outlined\"\n          />\n          <TextField\n            fullWidth\n            label=\"Password\"\n            margin=\"normal\"\n            name=\"password\"\n            onChange={handleChange}\n            required\n            variant=\"outlined\"\n          />\n          <Button fullWidth variant=\"contained\" onClick={logIn}>\n            Sign In\n            {redirect ? <Redirect to={\"/note/\" + currentUserId} /> : null}\n          </Button>\n          <Grid container>\n            <Grid item>\n              <a href=\"/create\">{\"Don't have an account? Sign up!\"}</a>\n            </Grid>\n          </Grid>\n        </form>\n      </Container>\n      <form className=\"loginArea\">\n        <input\n          name=\"username\"\n          placeholder=\"Enter your Username\"\n          onChange={handleChange}\n        />\n        <input\n          name=\"password\"\n          placeholder=\"Enter your Password\"\n          onChange={handleChange}\n          type=\"password\"\n        />\n        <div className=\"userLogin\">\n          <button onClick={handleClick}>Create Account</button>\n          <button onClick={logIn}>Log In</button>\n        </div>\n      </form>\n\n      {correctLogin ? null : (\n        <p className=\"loginInfo\">\n          The account may have not been created or your login information is not\n          correct. Please try again!\n        </p>\n      )}\n      <Footer />\n    </div>\n  );\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}